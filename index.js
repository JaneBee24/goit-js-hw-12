import{a as v,S,i as l}from"./assets/vendor-CrlV4O_2.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function a(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=a(e);fetch(e.href,r)}})();const B="49034890-15d0e202b9bb59c7b310d7a4f",$="https://pixabay.com/api/";async function m(o,t=1,a=15){const s=await v.get($,{params:{key:B,q:o,image_type:"photo",orientation:"horizontal",safesearch:!0,page:t,per_page:a}});return{images:s.data.hits,total:s.data.totalHits}}const g=document.querySelector(".gallery"),f=document.querySelector(".load-more"),y=document.querySelector(".loader");let M=new S(".gallery a",{captionsData:"alt",captionDelay:250});function p(o){const t=o.map(({webformatURL:a,largeImageURL:s,tags:e,likes:r,views:i,comments:w,downloads:q})=>`
    <li class="gallery-item">
      <a class="gallery-link" href="${s}">
        <img class="gallery-image" src="${a}" alt="${e}" loading="lazy" />
      </a>
      <div class="image-info">
        <p><strong>Likes:</strong> ${r}</p>
        <p><strong>Views:</strong> ${i}</p>
        <p><strong>Comments:</strong> ${w}</p>
        <p><strong>Downloads:</strong> ${q}</p>
      </div>
    </li>
  `).join("");g.insertAdjacentHTML("beforeend",t),M.refresh()}function P(){g.innerHTML=""}function h(){y.classList.remove("hidden")}function L(){y.classList.add("hidden")}function O(){f.classList.remove("hidden")}function b(){f.classList.add("hidden")}const E=document.querySelector(".form"),x=document.querySelector(".load-more");let c="",n=1;const d=15;let u=0;E.addEventListener("submit",async o=>{if(o.preventDefault(),c=o.currentTarget.elements.query.value.trim(),!c){l.warning({title:"Увага",message:"Введіть запит для пошуку!"});return}n=1,P(),b(),h();try{const{images:t,total:a}=await m(c,n,d);if(u=a,t.length===0){l.info({title:"Інформація",message:"Sorry, there are no images matching your search query. Please try again!"});return}p(t),u>n*d&&O()}catch{l.error({title:"Помилка",message:"Не вдалося завантажити зображення."})}finally{L()}});x.addEventListener("click",async()=>{n++,h();try{const{images:o}=await m(c,n,d);p(o),n*d>=u&&(b(),l.info({title:"Інформація",message:"We're sorry, but you've reached the end of search results."}));const{height:t}=document.querySelector(".gallery-item").getBoundingClientRect();window.scrollBy({top:t*2,behavior:"smooth"})}catch{l.error({title:"Помилка",message:"Не вдалося завантажити зображення."})}finally{L()}});
//# sourceMappingURL=index.js.map
